<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Atracții turistice în Europa</title>
    <link rel="icon" href="images/european.png" type="image/png" sizes="16x16">
    <!-- Acest script rămâne în head -->
    <script>
        (function () {
            const theme = localStorage.getItem('theme');
            if (theme === 'dark') {
                document.documentElement.classList.add('dark-mode');
            }
        })();
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-M4J2QKFKKF"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-M4J2QKFKKF');
    </script>

    <link href="css/plugins.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.js"></script>

    <!--    <link href="css/newfutre.css" rel="stylesheet"> -->

    <link href="http://fonts.googleapis.com/css?family=Roboto:500" rel="stylesheet" property="stylesheet"
        type="text/css" media="all">
    <link rel="stylesheet" type="text/css"
        href="plugins/slider-revolution/fonts/pe-icon-7-stroke/css/pe-icon-7-stroke.css">
    <link rel="stylesheet" type="text/css" href="plugins/slider-revolution/fonts/font-awesome/css/font-awesome.css">

    <link rel="stylesheet" type="text/css" href="plugins/slider-revolution/css/settings.css">




</head>

<body>
    <div class="body-inner">
        <header id="header" data-fullwidth="true" class="manipagi" data-transparent="false">
            <div class="header-inner">
                <div class="container">
                    <div id="logo">
                        <a href="index.html">
                            <span class="logo-default">Atracții turistice în Europa</span>
                            <span class="logo-dark">Atracții turistice în Europa</span>
                        </a>
                    </div>
                    <div id="mainMenu-trigger">
                        <a class="lines-button x"><span class="lines"></span></a>
                    </div>
                    <div id="mainMenu">
                        <div class="container">
                            <nav>
                                <ul>
                                    <li id="buton_dark">
                                        <input type="checkbox" id="dark-mode-toggle" />
                                        <label for="dark-mode-toggle" class="toggle"></label>
                                    </li>
                                    <li><a href="index.html">Prima pagină</a></li>
                                    <li class="dropdown"><a href="#">Obiective turistice</a>
                                        <ul class="dropdown-menu">
                                            <li><a href="o1.html">Valea Loarei</a></li>
                                            <li><a href="o2.html">Santorini</a></li>
                                            <li><a href="o3.html">Sagrada Familia</a></li>
                                            <li><a href="o4.html">Turnul Eiffel</a></li>
                                            <li><a href="o5.html">Colosseum</a></li>
                                            <li><a href="o6.html">Turnul din Pisa</a></li>
                                            <li><a href="o7.html">Castelul Neuschwanstein</a></li>
                                            <li><a href="o8.html">Acropole</a></li>
                                            <li><a href="o9.html">Hagia Sofia</a></li>
                                            <li><a href="o10.html">Castelul Peleș</a></li>
                                            <li><a href="o11.html">Catedrala Sfântul Vasile</a></li>
                                            <li><a href="o12.html">Fiordurile norvegiene</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="foto.html">Galerie de imagini</a></li>
                                    <li><a href="contact.html">Contact</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <section id="carousel">
            <div class="carousel-wrapper">
                <div class="carousel-track">

                    <div class="slide" style="background-image: url('images/3.jpg')">
                        <div class="slide-content">
                            <h3>Sagrade Familia</h3>
                            <p>Barcelona</p>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url('images/12.jpg')">
                        <div class="slide-content">
                            <h3 id="slide_h3">Fiordurile norvegiene</h3>
                            <p id="slide_p">Norvegia</p>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url('images/4.jpg')">
                        <div class="slide-content">
                            <h3 id="slide_h3">Turnul Eiffel</h3>
                            <p id="slide_p">Paris</p>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url('images/5.jpg')">
                        <div class="slide-content">
                            <h3 id="slide_h3">Colosseum</h3>
                            <p id="slide_p">Roma</p>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url('images/7.jpg')">
                        <div class="slide-content">
                            <h3 id="slide_h3">Castelul Neuschwanstein</h3>
                            <p id="slide_p">Germania</p>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url('images/2.jpg')">
                        <div class="slide-content">
                            <h3 id="slide_h3">Santorini</h3>
                            <p id="slide_p">Grecia</p>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url('images/52.jpg')">
                        <div class="slide-content">
                            <h3 id="slide_h3">Catedrala Sfântul Vasile</h3>
                            <p id="slide_p">Moscova</p>
                        </div>
                    </div>
                    <div class="slide" style="background-image: url('images/42.jpg')">
                        <div class="slide-content">
                            <h3 id="slide_h3">Acropole</h3>
                            <p id="slide_p">Grecia</p>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const track = document.querySelector(".carousel-track");
                const slides = Array.from(document.querySelectorAll(".slide"));

                // --- MODIFICARE CHEIE ---
                // Definim câte slide-uri sunt vizibile pe desktop.
                // Vom clona atâtea slide-uri la fiecare capăt.
                const slidesToClone = 3;
                // --- SFÂRȘIT MODIFICARE ---

                let autoplay;
                let isDragging = false;
                let startX = 0;
                let currentTranslate = 0;
                let prevTranslate = 0;

                // --- MODIFICARE LOGICĂ DE CLONARE ---
                // 1. Clonăm primele 'slidesToClone' și le punem la FINAL
                for (let i = 0; i < slidesToClone; i++) {
                    // Folosim modulo (%) pentru siguranță, în caz că ai mai puține slide-uri decât 3
                    let slideIndex = i % slides.length;
                    const clone = slides[slideIndex].cloneNode(true);
                    clone.classList.add("clone", "clone-first");
                    track.appendChild(clone);
                }

                // 2. Clonăm ultimele 'slidesToClone' și le punem la ÎNCEPUT
                // Mergem în ordine inversă pentru a le insera corect
                for (let i = slides.length - 1; i >= slides.length - slidesToClone; i--) {
                    let slideIndex = i % slides.length;
                    if (slideIndex < 0) slideIndex += slides.length; // Corecție pt index negativ

                    const clone = slides[slideIndex].cloneNode(true);
                    clone.classList.add("clone", "clone-last");
                    track.insertBefore(clone, track.firstChild); // Inserăm la începutul 'track'-ului
                }
                // --- SFÂRȘIT MODIFICARE LOGICĂ DE CLONARE ---


                let allSlides = document.querySelectorAll(".slide");

                // --- MODIFICARE CHEIE ---
                // Index-ul acum trebuie să înceapă de la primul slide REAL
                // (am adăugat 'slidesToClone' la început)
                let index = slidesToClone;
                // --- SFÂRȘIT MODIFICARE ---

                let slideWidth;

                // Funcția de actualizare (rămâne la fel, dar setează poziția inițială corectă)
                function updateSettings() {
                    // Obținem lățimea REALĂ a slide-ului
                    // (care este valoarea calculată de 'calc()')
                    let slideRectWidth = slides[0].getBoundingClientRect().width;

                    // --- MODIFICARE CHEIE ---
                    // Deoarece TOATE slide-urile au acum 'margin: 0 10px',
                    // lățimea de translație este ÎNTOTDEAUNA lățimea + 20px.

                    slideWidth = slideRectWidth + 20;
                    // --- SFÂRȘIT MODIFICARE ---

                    // Restul funcției rămâne la fel
                    track.style.transition = "none";
                    currentTranslate = -slideWidth * index;
                    prevTranslate = currentTranslate;
                    track.style.transform = `translateX(${currentTranslate}px)`;
                }

                function startAutoplay() {
                    clearInterval(autoplay);
                    autoplay = setInterval(() => {
                        index++;
                        moveSlider();
                    }, 4000);
                }

                function stopAutoplay() {
                    clearInterval(autoplay);
                }

                function moveSlider(snapToIndex = true) {
                    track.style.transition = "transform 0.6s ease-in-out";
                    if (snapToIndex) {
                        currentTranslate = -slideWidth * index;
                    }
                    track.style.transform = `translateX(${currentTranslate}px)`;
                    prevTranslate = currentTranslate;
                }

                // --- MODIFICARE CHEIE: Logica de 'transitionend' pentru loop ---
                track.addEventListener("transitionend", () => {
                    allSlides = document.querySelectorAll(".slide"); // Re-actualizăm lista

                    // Verificăm dacă am ajuns la clonele de la FINAL
                    // Indexul primei clone de la final este (nr_reale + nr_clone_la_inceput)
                    // Exemplu: 8 reale + 3 clone = 11. Când index ajunge la 11 (prima clonă-first)...
                    if (index >= (slides.length + slidesToClone)) {
                        track.style.transition = "none";
                        index = slidesToClone; // Salt la primul slide real (index 3)
                        currentTranslate = -slideWidth * index;
                        prevTranslate = currentTranslate;
                        track.style.transform = `translateX(${currentTranslate}px)`;
                    }

                    // Verificăm dacă am ajuns la clonele de la ÎNCEPUT (la swipe dreapta)
                    // Când index = 3 (primul real) și dăm swipe dreapta, index devine 2
                    // allSlides[2] este o clonă "clone-last"
                    if (index < slidesToClone) {
                        track.style.transition = "none";
                        // Sărim la ultimul slide real corespunzător
                        // index = 2 (clona lui slide 8) -> vrem să sărim la index 10 (slide 8 real)
                        // index = 1 (clona lui slide 7) -> vrem să sărim la index 9 (slide 7 real)
                        // Logica: index = index + numărul de slide-uri reale
                        index = index + slides.length;

                        currentTranslate = -slideWidth * index;
                        prevTranslate = currentTranslate;
                        track.style.transform = `translateX(${currentTranslate}px)`;
                    }
                });
                // --- SFÂRȘIT MODIFICARE 'transitionend' ---

                // --- Logica SWIPE (Rămâne neschimbată) ---
                function dragStart(e) {
                    isDragging = true;
                    startX = (e.type === "touchstart") ? e.touches[0].clientX : e.clientX;
                    stopAutoplay();
                    track.style.transition = "none";
                }

                function dragMove(e) {
                    if (!isDragging) return;
                    let currentX = (e.type === "touchmove") ? e.touches[0].clientX : e.clientX;
                    let diff = currentX - startX;
                    currentTranslate = prevTranslate + diff;
                    track.style.transform = `translateX(${currentTranslate}px)`;
                }

                function dragEnd(e) {
                    if (!isDragging) return;
                    isDragging = false;

                    let finalX = (e.type === "touchend") ? e.changedTouches[0].clientX : e.clientX;
                    let diff = finalX - startX;

                    if (Math.abs(diff) > 80) {
                        if (diff < 0) {
                            index++;
                        } else {
                            index--;
                        }
                    }

                    moveSlider(true);
                    startAutoplay();
                }

                // Aplicare evenimente Mouse
                track.addEventListener("mousedown", dragStart);
                track.addEventListener("mousemove", dragMove);
                window.addEventListener("mouseup", dragEnd);
                track.addEventListener("mouseleave", dragEnd);

                // Aplicare evenimente Touch
                track.addEventListener("touchstart", dragStart);
                track.addEventListener("touchmove", dragMove);
                track.addEventListener("touchend", dragEnd);
                // --- SFÂRȘIT LOGICĂ SWIPE ---

                // --- INIȚIALIZARE (Rămâne neschimbată) ---
                updateSettings();
                window.addEventListener('resize', updateSettings);
                startAutoplay();
            });
        </script>

        <footer id="footer">
            <div class="footer-content">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col-lg-4">
                                    <div class="widget">
                                        <div class="widget-title">Atracții turistice în Europa</div>
                                        <ul class="list">
                                            <li><a href="o1.html">Valea Loarei</a></li>
                                            <li><a href="o2.html">Santorini</a></li>
                                            <li><a href="o3.html">Sagrada Familia</a></li>
                                            <li><a href="o11.html">Catedrala Sfântul Vasile</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="widget">
                                        <div class="widget-title">&nbsp;</div>
                                        <ul class="list">
                                            <li><a href="o4.html">Turnul Eiffel</a></li>
                                            <li><a href="o5.html">Colosseum</a></li>
                                            <li><a href="o6.html">Turnul din Pisa</a></li>
                                            <li><a href="o12.html">Fiordurile Norvegiene</a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="col-lg-4">
                                    <div class="widget">
                                        <div class="widget-title">&nbsp;</div>
                                        <ul class="list">
                                            <li><a href="o7.html">Castelul Neuschwanstein</a></li>
                                            <li><a href="o8.html">Acropole</a></li>
                                            <li><a href="o9.html">Hagia Sofia</a></li>
                                            <li><a href="o10.html">Castelul Peleș</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>

    </div>

    <a id="scrollTop"><i class="icon-chevron-up"></i><i class="icon-chevron-up"></i></a>
    <script src="js/plugins.js"></script>
    <script src="js/functions.js"></script>
    <script src="js/newfuture.js"></script>
</body>

</html>